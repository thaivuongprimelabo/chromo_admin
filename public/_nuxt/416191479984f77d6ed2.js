(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{177:function(e,t,r){"use strict";t.a=function(e){switch(e){case"dg8UtFmRn9Za":return"/images/logos/education-vertical-png.png";case"WTbTcsX9VGp0":return"/images/logos/childcare-vertical-png.png";default:return"/images/logos/main-vertical-png.png"}}},190:function(e,t,r){"use strict";r.r(t);r(70),r(55);var n=r(8),o=r(179),l=r.n(o);!l.a.apps.length&&l.a.initializeApp({apiKey:"AIzaSyBF6T-HeFPb1cLfq-jFfIpj2So7RbwViGo",authDomain:"testfirebase9999.firebaseapp.com",projectId:"testfirebase9999",databaseURL:"https://testfirebase9999.firebaseio.com",storageBucket:"testfirebase9999.appspot.com"});var c=l.a.firestore(),d=(c.collection("clients"),c.collection("services"),c.collection("departments"),c.collection("ServiceAccounts"),function(form,e,t){l.a.auth().createUserWithEmailAndPassword(form.email,e).then(function(e){t(!0,"You have created an account. Please check your email address.")}).catch(function(e){e.code;var r=e.message;t(!1,r)})}),m=r(177),f={data:function(){return{isWrong:!0,email:"",password:"",serviceLogo:"",client_code:"",service_code:"",department_code:"",form:{serviceaccount_id:"",name_first_en:"",name_first_jp:"",name_last_en:"",name_last_jp:"",password_is_temp:!0,num_of_times_logged:0,last_login:"",is_active:!1,is_delete:!1,reg_date:"",upd_date:"",del_date:"",email:""},clients:[{client_id:1,client_code:"plo",client_name:"Prime Labo"},{client_id:2,client_code:"hge",client_name:"Hengge"}],services:[{service_id:1,service_code:"e",service_name:"Educations"},{service_id:2,service_code:"c",service_name:"Childcare"},{service_id:3,service_code:"h",service_name:"Health"}],departments:[{department_id:1,department_code:"s1",department_name:"Sapporo Odori High School"},{department_id:2,department_code:"h1",department_name:"Hokkaido Bifuka High School"},{department_id:3,department_code:"n1",department_name:"Niigata High School"},{department_id:4,department_code:"o1",department_name:"Osaka Ibaraki High School"},{department_id:4,department_name:"Hakuoh University"}]}},created:function(){this.init()},methods:{init:function(){this.serviceLogo=Object(m.a)("xxx")},doRegister:function(){var e=this,t=e.generateToken(16);e.form.serviceaccount_id=e.service_code+e.client_code+e.department_code+"b2";var r={from:"Administrator",to:e.form.email,subject:"【CHROMO】 Service account information",html:"./email_template/confirm.html",data:{serviceaccount_id:e.form.serviceaccount_id,password:t,name_first_en:e.form.name_first_en,name_last_en:e.form.name_last_en}};d(e.form,t,function(){var t=Object(n.a)(regeneratorRuntime.mark(function t(n,o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,e.$axios.$post("/sendmail",{config:r});case 3:t.sent.status&&(alert(o),e.$router.replace("/login")),t.next=8;break;case 7:alert(o);case 8:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}())},generateToken:function(e){for(var text="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)text+=t.charAt(Math.floor(Math.random()*t.length));return text}}},v=r(25),component=Object(v.a)(f,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"h-screen flex w-full bg-img"},[r("div",{staticClass:"p-5 w-full md:w-3/4 lg:w-3/4 xl:w-3/5 mx-auto self-center"},[r("div",{staticClass:"flex flex-row bg-gray-200"},[r("div",{staticClass:"hidden lg:block text-gray-700 w-1/2 text-center self-center"},[r("img",{staticClass:"w-1/2 mx-auto",attrs:{src:e.serviceLogo}})]),e._v(" "),r("div",{staticClass:"text-gray-700 w-full lg:w-1/2"},[r("div",{staticClass:"container mx-auto h-full flex justify-center items-center"},[r("div",{staticClass:"m-3 w-full"},[r("h1",{staticClass:"font-medium mb-6 text-center text-2xl text-red-600"},[e._v("New Service Account")]),e._v(" "),r("div",{staticClass:"border-teal p-8 border-t-12 bg-white mb-6 rounded-lg shadow-lg"},[r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},[e._v("Client")]),e._v(" "),r("div",{staticClass:"relative"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.client_code,expression:"client_code"}],staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-2 px-3 mb-2 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-state"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.client_code=t.target.multiple?r:r[0]}}},e._l(e.clients,function(t,n){return r("option",{key:n,domProps:{value:t.client_code}},[e._v(e._s(t.client_name))])}),0),e._v(" "),r("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[r("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])]),e._v(" "),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},[e._v("Service")]),e._v(" "),r("div",{staticClass:"relative"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.service_code,expression:"service_code"}],staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-2 px-3 mb-2 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-state"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.service_code=t.target.multiple?r:r[0]}}},e._l(e.services,function(t,n){return r("option",{key:n,domProps:{value:t.service_code}},[e._v(e._s(t.service_name))])}),0),e._v(" "),r("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[r("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])]),e._v(" "),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},[e._v("Department")]),e._v(" "),r("div",{staticClass:"relative"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.department_code,expression:"department_code"}],staticClass:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-2 px-3 mb-2 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-state"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.department_code=t.target.multiple?r:r[0]}}},e._l(e.departments,function(t,n){return r("option",{key:n,domProps:{value:t.department_code}},[e._v(e._s(t.department_name))])}),0),e._v(" "),r("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[r("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[r("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])]),e._v(" "),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},[e._v("Email")]),e._v(" "),r("div",{staticClass:"relative"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border rounded py-2 px-3 mb-2 leading-tight focus:outline-none focus:bg-white",attrs:{id:"grid-first-name",type:"email",placeholder:"First Name"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"flex flex-wrap -mx-3 mb-4"},[r("div",{staticClass:"w-full md:w-1/2 px-3"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"grid-first-name"}},[e._v("\n                                        First Name (EN)\n                                    ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name_first_en,expression:"form.name_first_en"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border rounded py-2 px-3 mb-2 leading-tight focus:outline-none focus:bg-white",attrs:{id:"grid-first-name",type:"text",placeholder:"First Name"},domProps:{value:e.form.name_first_en},on:{input:function(t){t.target.composing||e.$set(e.form,"name_first_en",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"w-full md:w-1/2 px-3"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"grid-last-name"}},[e._v("\n                                        Last Name (EN)\n                                    ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name_last_en,expression:"form.name_last_en"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-2 px-3 mb-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-last-name",type:"text",placeholder:"Last Name"},domProps:{value:e.form.name_last_en},on:{input:function(t){t.target.composing||e.$set(e.form,"name_last_en",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"flex flex-wrap -mx-3 mb-4"},[r("div",{staticClass:"w-full md:w-1/2 px-3"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"grid-first-name-jp"}},[e._v("\n                                        First Name (JP)\n                                    ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name_first_jp,expression:"form.name_first_jp"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border rounded py-2 px-3 mb-2 leading-tight focus:outline-none focus:bg-white",attrs:{id:"grid-first-name",type:"text",placeholder:"ファーストネーム"},domProps:{value:e.form.name_first_jp},on:{input:function(t){t.target.composing||e.$set(e.form,"name_first_jp",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"w-full md:w-1/2 px-3"},[r("label",{staticClass:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",attrs:{for:"grid-last-name"}},[e._v("\n                                        Last Name (JP)\n                                    ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name_last_jp,expression:"form.name_last_jp"}],staticClass:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-2 px-3 mb-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",attrs:{id:"grid-last-name-jp",type:"text",placeholder:"苗字"},domProps:{value:e.form.name_last_jp},on:{input:function(t){t.target.composing||e.$set(e.form,"name_last_jp",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"flex items-center justify-between"},[r("button",{staticClass:"bg-teal-400 hover:bg-teal-800  text-white font-bold py-2 px-4 rounded",on:{click:e.doRegister}},[e._v("\n                                    OK\n                                ")]),e._v(" "),r("button",{staticClass:"bg-pink-400 hover:bg-pink-800 text-white font-bold py-2 px-4 rounded float-right"},[e._v("\n                                    Cancel\n                                ")])])])])])])])])])},[],!1,null,null,null);t.default=component.exports}}]);